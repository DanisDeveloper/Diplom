<template>
  <div>
    <h1>Профиль пользователя</h1>
    <ul>
      <li>ID: {{ this.user.id }}</li>
      <li>Username: {{ this.user.name }}</li>
      <li>Email: {{ this.user.email }}</li>
      <li>Biography: {{ this.user.biography }}</li>
      <li>Avatar: {{ this.user.avatar_url }}</li>
      <li>Created at: {{ this.user.created_at }}</li>
    </ul>
  </div>
</template>

<script>
export default {
  data() {
    return {
      user: {}
    }
  },
  methods: {
    async get_user_data() {
      try {
        const response = await fetch("http://localhost:8000/auth/profile/", {
          method: "GET",
          headers: {"Content-Type": "application/json"},
          credentials: 'include',
        });
        this.user = await response.json();
        // TODO доделать
      } catch (error) {
        console.log(error);
      }
    }
  },
  mounted() {
    this.get_user_data()
  }
}
</script>

<style scoped>

</style>